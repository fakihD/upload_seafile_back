api = require './api'

this.get = (token, repo, params, cb)->
	parameters  = {}
	parameters.p = params.path
	parameters.oid = params.oid
	parameters.t = params.type
	parameters.r = params.recursive

	api.get getEndpoint(repo, 'dir'), parameters, token, (err, res)->
		throw err if err
		cb res

getEndpoint = (repo, endpoint)->
	endpoint = 'repos/' + repo + '/' + endpoint
	console.log endpoint
	endpoint

module.exports = this
