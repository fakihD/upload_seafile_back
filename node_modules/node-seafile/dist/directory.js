(function() {
  var api, getEndpoint;

  api = require('./api');

  this.get = function(token, repo, params, cb) {
    var parameters;
    parameters = {};
    parameters.p = params.path;
    parameters.oid = params.oid;
    parameters.t = params.type;
    parameters.r = params.recursive;
    return api.get(getEndpoint(repo, 'dir'), parameters, token, function(err, res) {
      if (err) {
        throw err;
      }
      return cb(res);
    });
  };

  getEndpoint = function(repo, endpoint) {
    endpoint = 'repos/' + repo + '/' + endpoint;
    console.log(endpoint);
    return endpoint;
  };

  module.exports = this;

}).call(this);
